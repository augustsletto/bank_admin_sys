{% extends "baseTemplate.html" %}
{% set active_page = "add_account" %}
{% block title %}Add Account{% endblock %}

{% block content %}

<div class="row g-4 mx-5">
   
    <div class="col-3 d-flex">
        <div class="card-border flex-fill p-4">
            <div class="row d-flex justify-content-between">
                <div class="col card-title pb-4">Customer Info</div>
                <div class="col text-end"><i class="bi bi-three-dots py-1 px-2 tiny-buttons rounded"></i></div>
            </div>
            
            <div class="col display-6 pb-4">{{ customer.given_name }} {{ customer.surname }}</div>
            <div class="col card-details fw-lighter py-2">Customer ID: <strong>{{ customer.id }}</strong></div>
            <div class="col card-details fw-lighter">Total Accounts: <strong>{{ total_accounts }}</strong></div>
        </div>
    </div>

    
    <div class="col-5 d-flex">
        <div class="p-2 card-border flex-fill p-4">
            <h2 class="text-center card-title mb-3">Create a New Account</h2>
            <p class="text-center text-light">For {{ customer.given_name }} {{ customer.surname }}</p>

            <form method="POST" novalidate>
                {{ form.hidden_tag() }}

                
                <div class="mb-4">
                    <label class="form-label">Account Type</label>
                    {{ form.account_type(class="form-select custom-dropdown") }}
                </div>

                
                <div class="mb-4">
                    <label class="form-label">Initial Balance</label>
                    {{ form.balance(class="form-control custom-input", placeholder="Enter initial balance") }}
                </div>

                
                <div class="d-grid mt-4">
                    <button type="submit" class="btn primary-btn">Create Account</button>
                </div>
            </form>
        </div>
    </div>

    
    <div class="col-4 d-flex">
        <div class="p-2 card-border flex-fill p-4">
            <div class="row d-flex justify-content-between">
                <div class="col card-title pb-4">Account Preview</div>
                <div class="col text-end"><i class="bi bi-eye-fill py-1 px-2 tiny-buttons rounded"></i></div>
            </div>

            
            <div class="creditcard p-3" id="creditCard">
                <div id="card-logo" class="text-end pt-2 pe-3">
                    <img src="/static/images/V.D-e36aebe0.png" alt="visalogo" id="visalogo">
                </div>

                <div id="card-num" class="my-4 px-2 pt-3">
                    •••• •••• •••• <span id="card-num-4"> 3849</span>
                </div>

                <div class="row">
                    <div class="col ps-4 card-name text-start">{{ customer.given_name }} {{ customer.surname }}</div>
                    <div class="col card-date text-end">22/11</div>
                </div>
            </div>

            
            <div class="d-flex justify-content-center mt-4">
                <button class="btn color-btn btn-blue me-2" onclick="changeCardColor('#5641f5', '#11075f')"></button>
                <button class="btn color-btn btn-green me-2" onclick="changeCardColor('#2ecc71', '#145a32')"></button>
                <button class="btn color-btn btn-red me-2" onclick="changeCardColor('#e74c3c', '#7b241c')"></button>
                <button class="btn color-btn btn-gold me-2" onclick="changeCardColor('#f1c40f', '#b7950b')"></button>
                <button class="btn color-btn btn-silver" onclick="changeCardColor('#bdc3c7', '#7f8c8d')"></button>
            </div>
        </div>
    </div>
</div>

<script>
    function changeCardColor(primary, secondary) {
        document.getElementById('creditCard').style.background = `linear-gradient(135deg, ${primary}, ${secondary})`;
    }
</script>

{% endblock %}
